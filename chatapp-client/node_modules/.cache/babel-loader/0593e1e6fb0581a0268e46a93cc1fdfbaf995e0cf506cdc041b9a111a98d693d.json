{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import LoginPage from\"./components/LoginPage\";import ChatWindow from\"./components/ChatWindow\";import{jsx as _jsx}from\"react/jsx-runtime\";function App(){const[currentUser,setCurrentUser]=useState(null);useEffect(()=>{const savedUser=sessionStorage.getItem(\"currentUser\");if(savedUser)setCurrentUser(JSON.parse(savedUser));},[]);const handleLoginSuccess=user=>{setCurrentUser(user);sessionStorage.setItem(\"currentUser\",JSON.stringify(user));sessionStorage.setItem(\"loginTime\",Date.now());};const handleLogout=()=>{setCurrentUser(null);sessionStorage.removeItem(\"currentUser\");sessionStorage.removeItem(\"loginTime\");};useEffect(()=>{const interval=setInterval(()=>{const loginTime=sessionStorage.getItem(\"loginTime\");if(loginTime&&Date.now()-parseInt(loginTime,10)>30*60*1000){handleLogout();alert(\"Session expired. Please log in again.\");}},60000);return()=>clearInterval(interval);},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"app-container\",children:!currentUser?/*#__PURE__*/_jsx(LoginPage,{onLoginSuccess:handleLoginSuccess}):/*#__PURE__*/_jsx(ChatWindow,{currentUser:currentUser,onLogout:handleLogout})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","LoginPage","ChatWindow","jsx","_jsx","App","currentUser","setCurrentUser","savedUser","sessionStorage","getItem","JSON","parse","handleLoginSuccess","user","setItem","stringify","Date","now","handleLogout","removeItem","interval","setInterval","loginTime","parseInt","alert","clearInterval","className","children","onLoginSuccess","onLogout"],"sources":["D:/Project/ChatApplication/chatapp-client/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport LoginPage from \"./components/LoginPage\";\nimport ChatWindow from \"./components/ChatWindow\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState(null);\n\n  useEffect(() => {\n    const savedUser = sessionStorage.getItem(\"currentUser\");\n    if (savedUser) setCurrentUser(JSON.parse(savedUser));\n  }, []);\n\n  const handleLoginSuccess = (user) => {\n    setCurrentUser(user);\n    sessionStorage.setItem(\"currentUser\", JSON.stringify(user));\n    sessionStorage.setItem(\"loginTime\", Date.now());\n  };\n\n  const handleLogout = () => {\n    setCurrentUser(null);\n    sessionStorage.removeItem(\"currentUser\");\n    sessionStorage.removeItem(\"loginTime\");\n  };\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const loginTime = sessionStorage.getItem(\"loginTime\");\n      if (loginTime && Date.now() - parseInt(loginTime, 10) > 30 * 60 * 1000) {\n        handleLogout();\n        alert(\"Session expired. Please log in again.\");\n      }\n    }, 60000);\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div className=\"app-container\">\n      {!currentUser ? (\n        <LoginPage onLoginSuccess={handleLoginSuccess} />\n      ) : (\n        <ChatWindow currentUser={currentUser} onLogout={handleLogout} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,wBAAwB,CAC9C,MAAO,CAAAC,UAAU,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEjD,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGP,QAAQ,CAAC,IAAI,CAAC,CAEpDD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAS,SAAS,CAAGC,cAAc,CAACC,OAAO,CAAC,aAAa,CAAC,CACvD,GAAIF,SAAS,CAAED,cAAc,CAACI,IAAI,CAACC,KAAK,CAACJ,SAAS,CAAC,CAAC,CACtD,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAK,kBAAkB,CAAIC,IAAI,EAAK,CACnCP,cAAc,CAACO,IAAI,CAAC,CACpBL,cAAc,CAACM,OAAO,CAAC,aAAa,CAAEJ,IAAI,CAACK,SAAS,CAACF,IAAI,CAAC,CAAC,CAC3DL,cAAc,CAACM,OAAO,CAAC,WAAW,CAAEE,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC,CACjD,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzBZ,cAAc,CAAC,IAAI,CAAC,CACpBE,cAAc,CAACW,UAAU,CAAC,aAAa,CAAC,CACxCX,cAAc,CAACW,UAAU,CAAC,WAAW,CAAC,CACxC,CAAC,CAEDrB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAsB,QAAQ,CAAGC,WAAW,CAAC,IAAM,CACjC,KAAM,CAAAC,SAAS,CAAGd,cAAc,CAACC,OAAO,CAAC,WAAW,CAAC,CACrD,GAAIa,SAAS,EAAIN,IAAI,CAACC,GAAG,CAAC,CAAC,CAAGM,QAAQ,CAACD,SAAS,CAAE,EAAE,CAAC,CAAG,EAAE,CAAG,EAAE,CAAG,IAAI,CAAE,CACtEJ,YAAY,CAAC,CAAC,CACdM,KAAK,CAAC,uCAAuC,CAAC,CAChD,CACF,CAAC,CAAE,KAAK,CAAC,CACT,MAAO,IAAMC,aAAa,CAACL,QAAQ,CAAC,CACtC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEjB,IAAA,QAAKuB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3B,CAACtB,WAAW,cACXF,IAAA,CAACH,SAAS,EAAC4B,cAAc,CAAEhB,kBAAmB,CAAE,CAAC,cAEjDT,IAAA,CAACF,UAAU,EAACI,WAAW,CAAEA,WAAY,CAACwB,QAAQ,CAAEX,YAAa,CAAE,CAChE,CACE,CAAC,CAEV,CAEA,cAAe,CAAAd,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}