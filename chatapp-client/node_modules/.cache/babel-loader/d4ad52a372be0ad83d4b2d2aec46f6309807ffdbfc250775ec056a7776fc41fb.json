{"ast":null,"code":"// src/services/signalRConnection.js\nimport * as signalR from '@microsoft/signalr';\n\n// Create singleton connection\nconst connection = new signalR.HubConnectionBuilder().withUrl(\"http://localhost:5090/chathub\") // your backend URL\n.withAutomaticReconnect().build();\n\n// Start connection once\nconst startConnection = async () => {\n  if (connection.state === signalR.HubConnectionState.Disconnected) {\n    try {\n      await connection.start();\n      console.log(\"SignalR Connected.\");\n    } catch (err) {\n      console.error(\"Connection failed: \", err);\n      setTimeout(startConnection, 2000); // retry after 2s\n    }\n  }\n};\nstartConnection();\nexport default connection;","map":{"version":3,"names":["signalR","connection","HubConnectionBuilder","withUrl","withAutomaticReconnect","build","startConnection","state","HubConnectionState","Disconnected","start","console","log","err","error","setTimeout"],"sources":["D:/Project/ChatApplication/chatapp-client/src/services/signalRConnection.js"],"sourcesContent":["// src/services/signalRConnection.js\r\nimport * as signalR from '@microsoft/signalr';\r\n\r\n// Create singleton connection\r\nconst connection = new signalR.HubConnectionBuilder()\r\n    .withUrl(\"http://localhost:5090/chathub\") // your backend URL\r\n    .withAutomaticReconnect()\r\n    .build();\r\n\r\n// Start connection once\r\nconst startConnection = async () => {\r\n    if (connection.state === signalR.HubConnectionState.Disconnected) {\r\n        try {\r\n            await connection.start();\r\n            console.log(\"SignalR Connected.\");\r\n        } catch (err) {\r\n            console.error(\"Connection failed: \", err);\r\n            setTimeout(startConnection, 2000); // retry after 2s\r\n        }\r\n    }\r\n};\r\n\r\nstartConnection();\r\n\r\nexport default connection;\r\n"],"mappings":"AAAA;AACA,OAAO,KAAKA,OAAO,MAAM,oBAAoB;;AAE7C;AACA,MAAMC,UAAU,GAAG,IAAID,OAAO,CAACE,oBAAoB,CAAC,CAAC,CAChDC,OAAO,CAAC,+BAA+B,CAAC,CAAC;AAAA,CACzCC,sBAAsB,CAAC,CAAC,CACxBC,KAAK,CAAC,CAAC;;AAEZ;AACA,MAAMC,eAAe,GAAG,MAAAA,CAAA,KAAY;EAChC,IAAIL,UAAU,CAACM,KAAK,KAAKP,OAAO,CAACQ,kBAAkB,CAACC,YAAY,EAAE;IAC9D,IAAI;MACA,MAAMR,UAAU,CAACS,KAAK,CAAC,CAAC;MACxBC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;IACrC,CAAC,CAAC,OAAOC,GAAG,EAAE;MACVF,OAAO,CAACG,KAAK,CAAC,qBAAqB,EAAED,GAAG,CAAC;MACzCE,UAAU,CAACT,eAAe,EAAE,IAAI,CAAC,CAAC,CAAC;IACvC;EACJ;AACJ,CAAC;AAEDA,eAAe,CAAC,CAAC;AAEjB,eAAeL,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}